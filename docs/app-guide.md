# Chimpan Calendar 完全ガイド

## 📱 アプリ概要

Chimpan Calendarは、スニーカーやトレカなどの抽選・先着販売イベントを一元管理し、当選率や利益を自動分析するWebアプリケーションです。

### このアプリでできること
- 📅 イベントのスケジュール管理
- 📊 当選率・利益の自動計算と分析
- 🔔 重要なタイミングでのプッシュ通知
- 🤖 AIアシスタントへの自然言語での質問
- 🎁 メンバー限定のプレゼント企画への参加
- 📱 PWAとしてスマホにインストール可能

---

## 🗂️ 各ページの詳しい使い方

### 📅 カレンダーページ
**イベントを一目で確認**

#### 表示形式
- **月表示**: 1ヶ月分のイベントをカレンダー形式で表示
- **週表示**: 1週間分のイベントを時間軸で詳細表示
- **リスト表示**: イベントをリスト形式で一覧表示

#### イベントの色分け
- **青色**: 抽選イベント（応募期間内に申し込み、後日抽選）
- **緑色**: 先着イベント（開始時刻から先着順で販売）

#### イベントをタップすると
- イベント名
- 開始・終了時刻
- サイト名
- イベントタイプ（抽選/先着）
- リンク（外部サイトへ移動）
- 画像（商品画像など）

#### フィルター機能
- 「自分が応募したイベントのみ」表示可能
- イベントタイプで絞り込み

---

### 📊 ダッシュボードページ
**活動のサマリーを確認**

#### 表示される情報
1. **今週の統計**
   - 応募数
   - 当選数
   - 当選率

2. **最近の活動**
   - 直近の応募イベント
   - 当選/落選の結果
   - 日時

3. **おすすめイベント**
   - 公開されているイベント
   - 開始が近いイベント

4. **クイックアクション**
   - イベント応募記録への移動
   - 統計ページへの移動

---

### 📈 統計ページ
**あなたの成績を詳しく分析**

#### 全体統計
- **総応募数**: これまでの総応募回数
- **当選数**: 当選した回数
- **落選数**: 落選した回数
- **当選率**: 当選数 ÷ (当選数 + 落選数) × 100
- **総利益**: 全イベントの利益合計

#### 月次推移グラフ
- 月ごとの応募数と当選数を折れ線グラフで表示
- 当選率の推移を確認できる

#### サイト別統計
- どのサイトが当たりやすいか一目でわかる
- サイトごとの応募数・当選数・当選率を表示
- 当選率の高い順にソート

#### 利益ランキング
- 利益が高かったイベントのTOP5
- イベント名・サイト名・利益金額を表示

#### フィルター
- 期間を選択可能（今月・先月・全期間）

---

### 📝 履歴ページ
**過去の応募を時系列で確認**

#### 表示される情報
- イベント名
- サイト名
- 応募日時
- 結果（当選/落選/保留中）
- 利益（入力済みの場合）

#### フィルター機能
1. **結果でフィルター**
   - すべて表示
   - 当選のみ
   - 落選のみ
   - 保留中のみ

2. **サイトでフィルター**
   - 特定のサイトの応募のみ表示

3. **期間でフィルター**
   - 今月
   - 先月
   - カスタム期間

#### 各イベントをタップ
- 詳細情報の表示・編集
- 結果の更新
- 利益の入力・編集
- 削除

---

### 🎁 プレゼントページ
**メンバー限定の抽選企画**

#### プレゼント企画とは
管理者が開催するアプリ内限定の抽選イベントです。通常の応募イベントとは別で、メンバー全員が参加できます。

#### 参加方法
1. プレゼントページで開催中の企画を確認
2. 「参加する」ボタンをタップ
3. 参加完了（自動的にエントリーされます）

#### 抽選方法
- 管理者が設定した締切時刻に自動抽選
- または管理者が手動で抽選
- 当選者はアプリ内で確認できます

#### 当選後の流れ
1. 当選通知が届く
2. プレゼントページで当選を確認
3. 管理者から連絡が来る

---

### ⚙️ 設定ページ
**通知やプロフィールをカスタマイズ**

#### プロフィール設定
- 表示名の変更
- メールアドレスの確認
- Discordアカウントの連携状態

#### 通知設定
**プッシュ通知の有効化**
1. 「通知を有効にする」をオン
2. ブラウザの許可ダイアログで「許可」をタップ
3. 通知の種類を選択

**通知の種類**
- ✅ **先着イベント開始10分前**: 準備のための事前通知
- ✅ **抽選イベント開始時**: 応募受付開始のお知らせ
- ✅ **抽選イベント終了30分前**: 締切間近のリマインド

#### プラットフォーム手数料設定
- よく使うプラットフォームの手数料率を登録
- 利益計算時に自動で適用されます

#### データのエクスポート
- 応募履歴をCSV形式でダウンロード
- 統計データをJSON形式でダウンロード

---

### 🤖 AIチャットページ
**自然な言葉で質問できるアシスタント**

#### できること
1. **統計データの質問**
   - 「今月の当選率は？」
   - 「全期間の成績を教えて」
   - 「どのサイトが一番当たりやすい？」

2. **サイト別の分析**
   - 「サイト別の統計を見せて」
   - 「Aというサイトの成績は？」

3. **利益の確認**
   - 「一番利益が出たイベントは？」
   - 「利益ランキングを教えて」
   - 「総利益はいくら？」

4. **最近の活動**
   - 「最近応募したイベントは？」
   - 「直近5件の応募を教えて」
   - 「今週何個当たった？」

5. **アプリの使い方**
   - 「通知の設定方法は？」
   - 「プッシュ通知が来ないのはなぜ？」
   - 「このアプリの機能は？」

#### 使い方のコツ
- 自然な日本語で質問してOK
- 過去の会話を覚えているので、続けて質問できる
- 数字や期間を具体的に聞くと正確な回答が得られる

#### トークン制限
- **1日あたり10,000トークンまで無料**
- 残りトークン数は画面上部に表示
- 翌日0時にリセットされます

---

## 🔔 プッシュ通知について

### 通知が届くタイミング

#### 先着イベント
**開始10分前**
- 先着販売の準備をするための通知
- スマホやPCで通知を受け取れる
- リンクをタップすると詳細ページへ

#### 抽選イベント
**開始時**
- 応募受付が始まったタイミング
- すぐに応募できるようにリマインド

**終了30分前**
- 締切間近の警告
- 応募忘れを防ぐ

### 通知を受け取る設定

#### スマホ（iOS Safari）の場合
1. カレンダーアプリを開く
2. 設定ページへ移動
3. 「通知を有効にする」をオン
4. Safariの「許可」をタップ
5. 受け取りたい通知の種類をチェック

#### スマホ（Android Chrome）の場合
1. カレンダーアプリを開く
2. 設定ページへ移動
3. 「通知を有効にする」をオン
4. Chromeの「許可」をタップ
5. 受け取りたい通知の種類をチェック

#### PCの場合
1. カレンダーアプリを開く
2. 設定ページへ移動
3. 「通知を有効にする」をオン
4. ブラウザの許可ダイアログで「許可」をクリック
5. 受け取りたい通知の種類をチェック

### 通知が来ない場合の確認事項

#### 1. アプリの設定を確認
- 設定ページで「通知を有効にする」がオンになっているか
- 受け取りたい通知の種類がチェックされているか

#### 2. ブラウザの許可を確認
- ブラウザの設定で通知が許可されているか
- サイトの通知がブロックされていないか

#### 3. 端末の設定を確認（スマホ）
- 端末の設定 → 通知 → ブラウザ → 通知がオンになっているか
- サイレントモードになっていないか

#### 4. イベントの時刻を確認
- 通知は実際にイベントの10分前/開始時/30分前に届きます
- 過去のイベントには通知は来ません

---

## 📱 PWA（アプリ化）について

### PWAとは
Progressive Web Appの略で、Webサイトをスマホのアプリのように使える技術です。

### メリット
- ✅ ホーム画面から直接起動
- ✅ アプリのような見た目
- ✅ プッシュ通知を受け取れる
- ✅ オフラインでも一部機能が使える
- ✅ アプリストア不要

### インストール方法

#### iOS（iPhone/iPad）の場合
1. Safariでカレンダーアプリを開く
2. 画面下部の「共有」ボタン（□に↑）をタップ
3. 「ホーム画面に追加」をタップ
4. アプリ名を確認して「追加」をタップ
5. ホーム画面にアイコンが追加されます

#### Androidの場合
1. Chromeでカレンダーアプリを開く
2. 画面右上の「︙」メニューをタップ
3. 「ホーム画面に追加」をタップ
4. アプリ名を確認して「追加」をタップ
5. ホーム画面にアイコンが追加されます

#### PCの場合（Chrome）
1. Chromeでカレンダーアプリを開く
2. アドレスバー右側の「インストール」ボタンをクリック
3. 「インストール」をクリック
4. デスクトップにショートカットが作成されます

---

## 📝 イベント応募の記録方法

### 基本的な流れ
1. カレンダーから応募したいイベントを選択
2. 「応募を記録」ボタンをタップ
3. 応募日時を確認（自動入力）
4. メモを追加（任意）
5. 「保存」をタップ

### 結果の入力
1. 履歴ページから該当イベントをタップ
2. 「結果を更新」をタップ
3. 当選/落選を選択
4. 「保存」をタップ

### 利益の入力
1. 履歴ページから該当イベントをタップ
2. 「利益を入力」をタップ
3. 以下の情報を入力：
   - **購入価格**: 商品の購入金額
   - **売却価格**: 商品の売却金額
   - **プラットフォーム**: 販売サイト（メルカリ、ヤフオクなど）
   - **手数料**: 販売手数料（自動計算も可能）
   - **送料**: 発送にかかった費用
4. 「保存」をタップ

### 利益の自動計算式
```
利益 = 売却価格 - 購入価格 - 手数料 - 送料
```

---

## 🔐 認証とセキュリティ

### ログイン方法
このアプリはDiscordアカウントでログインします。

1. アプリにアクセス
2. 「Discordでログイン」をクリック
3. Discordの認証画面で「認証」をクリック
4. 自動的にアプリにリダイレクト

### アクセス制限
- このアプリは特定のDiscordサーバーのメンバーのみが利用できます
- 特定のロール（役職）が必要な場合があります
- 管理者が設定を変更できます

### データのプライバシー
- ✅ あなたのデータはあなただけが見ることができます
- ✅ 他のユーザーはあなたの応募履歴や統計を見ることはできません
- ✅ AIチャットもあなたのデータのみにアクセスします
- ✅ 管理者も個別のユーザーデータは見れません（統計のみ）

---

## ❓ よくある質問（FAQ）

### 通知について

**Q: プッシュ通知が来ないのですが？**
A: 以下を確認してください：
1. 設定ページで通知が有効になっているか
2. ブラウザの通知許可がオンになっているか
3. 端末の通知設定がオンになっているか
4. イベントの時刻が正しいか（過去のイベントには通知は来ません）

**Q: 通知が何度も来るのですが？**
A: 複数のブラウザや端末でログインしている場合、それぞれに通知が届きます。不要な端末で通知をオフにしてください。

**Q: 通知音を変更できますか？**
A: 通知音は端末の設定で変更できます。アプリ側では変更できません。

### データについて

**Q: データを削除できますか？**
A: はい。履歴ページから各イベントを個別に削除できます。全データの削除は設定ページから可能です。

**Q: データをバックアップできますか？**
A: 設定ページから応募履歴をCSV形式でエクスポートできます。

**Q: 他の人のデータは見れますか？**
A: いいえ。プライバシー保護のため、各ユーザーは自分のデータのみアクセスできます。

### AIチャットについて

**Q: AIの回答が遅いです**
A: 複雑な統計データを取得している場合、数秒かかることがあります。少しお待ちください。

**Q: AIが間違った回答をしました**
A: AIは統計データを元に回答しますが、解釈が間違っている場合があります。正確な数字は統計ページで確認してください。

**Q: トークンが足りなくなりました**
A: トークンは毎日0時にリセットされます。翌日まで待つか、統計ページで直接データを確認してください。

**Q: AIに何を聞けばいいかわかりません**
A: AIチャットページに表示されている例文をタップしてみてください。または「今月の成績を教えて」など、自然な言葉で聞いてみてください。

### その他

**Q: スマホとPCでデータは同期されますか？**
A: はい。同じアカウントでログインすれば、どの端末でも同じデータにアクセスできます。

**Q: オフラインで使えますか？**
A: PWAとしてインストールすれば、一部機能（カレンダーの閲覧など）はオフラインでも使えます。ただし、データの更新にはインターネット接続が必要です。

**Q: アプリが更新されない**
A: PWAの場合、キャッシュが残っている可能性があります。アプリを完全に閉じて（バックグラウンドからも削除）、再度開いてください。

---

## 🛠️ トラブルシューティング

### アプリが開かない
1. ブラウザのキャッシュをクリア
2. ブラウザを再起動
3. 端末を再起動
4. 別のブラウザで試す

### ログインできない
1. Discordアカウントでログインしているか確認
2. 正しいDiscordサーバーのメンバーか確認
3. 必要なロール（役職）を持っているか確認
4. ブラウザのCookieが有効になっているか確認

### データが表示されない
1. ログインしているか確認
2. インターネット接続を確認
3. ページを再読み込み（F5またはスワイプで更新）
4. ブラウザのキャッシュをクリア

### 利益計算がおかしい
1. 入力した数字が正しいか確認
2. 手数料率が正しいか確認（設定ページで確認）
3. 計算式を確認：利益 = 売却価格 - 購入価格 - 手数料 - 送料

---

## 📞 サポート

### ヘルプページ
アプリ内のヘルプページから、よくある質問やガイドを確認できます。

### フィードバック送信
ヘルプページの「フィードバックを送信」から、以下のカテゴリで問い合わせできます：
- 新機能の要望
- バグ報告
- 使い方の質問
- その他の改善提案

送信されたフィードバックは管理者のDiscordに届き、迅速に対応します。

---

## 🎓 Tips & Tricks

### 効率的な使い方

1. **PWAとしてインストール**
   - ホーム画面から直接アクセスできて便利

2. **通知を活用**
   - 大事なイベントを逃さない
   - 通知の種類を絞って必要なものだけ受け取る

3. **AIチャットを活用**
   - 統計ページを開くより早く数字を確認
   - 「先月と今月どっちが良かった？」などの比較も可能

4. **プラットフォーム手数料を登録**
   - 設定ページで登録しておけば、利益計算が自動化

5. **定期的にデータを確認**
   - 月末に今月の成績を確認
   - サイト別の当選率を確認して戦略を練る

### 知っていると便利な機能

- カレンダーページでイベントを長押しすると、即座に応募記録が可能（一部ブラウザ）
- 統計ページのグラフをタップすると、その月の詳細が表示される
- 履歴ページで左にスワイプすると、削除ボタンが表示される（一部ブラウザ）
- AIチャットで「おすすめは？」と聞くと、当選率の高いサイトを教えてくれる

---

## 📊 用語集

- **抽選イベント**: 応募期間内に申し込み、後日抽選で当選者を決定するイベント
- **先着イベント**: 開始時刻から先着順で販売されるイベント
- **当選率**: 当選数 ÷ (当選数 + 落選数) × 100 で計算
- **利益**: 売却価格 - 購入価格 - 手数料 - 送料
- **PWA**: Progressive Web App。Webサイトをアプリのように使える技術
- **VAPID**: Web Push通知に必要な認証キー
- **トークン**: AIチャットで消費される単位。1日10,000トークンまで無料

---

このガイドで解決しない問題は、ヘルプページのフィードバックフォームからお問い合わせください！
